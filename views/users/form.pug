html
	head
		link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous")
	body
		nav(class="navbar navbar-light bg-faded")
			a(class="navbar-brand" href='/') Ajax App
			ul.nav.navbar-nav.float-xs-right
				li.nav-item
					a(class="navbar-text" href='/create') Create new user
				li.nav-item
					a(class="navbar-text" href="/form") Search
				
				.container
					.row
							.col-xs-6.offset-xs-3
								form(action='/search' method='post')
									.form-group
										h4.text-xs-center Search Users
										input(type="text" id="input_val" name="searching" placeholder="Kerem")
										input(type="submit" value="search")
										div(id="displayUser")
	script(src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.0.min.js")
	script(src="/js/timeout.js")
	script.
		$(document).ready(function(){
				$("#input_val").keyup(function(){
					var input = $(this).val();
					if(input.length === 0){
				$('#displayUser').empty();
			} else {
				$.post('/autocomplete', {input: input}, function (results){
				console.log(results);
				$('#displayUser').empty();
				if(results.length !== 0){
					results.forEach(function (result){
					var li = $('<li>');
					li.html(result.firstname + " " + result.lastname);
					$('#displayUser').append(li);
					});
					}
					});
					}
					});
					});
					
